{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/scraping-web-from-browser-console/","result":{"data":{"site":{"siteMetadata":{"title":"instrumaniak"}},"markdownRemark":{"html":"<p>I have enrolled in some free online courses (MOOC) from various sites and I wanted to keep track of these courses in a spreadsheet. So I needed to copy the titles of the courses and paste into a spreadsheet. Simply copying and pasting is not so appealing as I have to clean up unwanted text thus it would be a boring manual work. So I thought why not <em>automate the boring stuff with javascript</em>? So lets see how to quickly extract data from the web page right from the browser console and make the copy-paste process a bit smarter!</p>\n<!--more-->\n<h2>The process</h2>\n<p><strong>Find the pattern</strong>  Use the web browser inspector tool to pick a page element that you want to extract and/or look into the source code to find patterns. Pickup the tag/class/id name that gets repeated. </p>\n<p><strong>Extract the data</strong>  In the console select all the matching element using DOM API and iterate over the items.</p>\n<h2>Example</h2>\n<p>Let's go extract just the titles of the <a href=\"https://www.coursera.org/featured/top_rated_courses\">top rated</a> courses at Coursera. First by right clicking on the title and inspecting the element in the DOM inspector (I'm using firefox here), we can find that (as of this writing) all the titles of the courses in this page are tagged <code class=\"language-text\">&lt;h2&gt;</code> like below:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>color-primary-text headline-1-text flex-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-reactid</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>104<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Algorithms, Part I<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n.\n.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>color-primary-text headline-1-text flex-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-reactid</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>116<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Single Page Web Applications with AngularJS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n.</code></pre></div>\n<p>So in the console we can write:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nArray<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token operator\">=></span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we get plain text output in the console somewhat like below that we can just drag over to copy and paste into a spreadsheet:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Algorithms, Part I\nSingle Page Web Applications with AngularJS\nProgramming Languages, Part A\nMachine Learning\nMedical Neuroscience\n...</code></pre></div>\n<h2>Moving on!</h2>\n<p>Using vanilla javascript and the DOM API to extract data from web pages right from the browser console is really a convenient, quick and dirty approach that works very well for personal small scale data collection. </p>\n<p>But things can get little more complex- we can use Comma Seperated data Values and import it into spreadsheet and split it there to get into multiple rows and columns. Again, we might also need to scrap multiple times, in that case Firefox Greasemonkey user scripts can be a straight forward solution, while still remaining in the client side and using the same code that also works from the browser console. There is also another option of using client side JS scrapping library (a quick google search shows: artoo.js) OR you can just go back to your favorite back-end solution if that's what you like!</p>","frontmatter":{"title":"Scraping web data right from the browser console","blurb":"Around this time, I have been learning JavaScript quite seriously and trying to use it for anything outside of my coding exercises."},"fields":{"date":"15 May, 2017"}}},"pageContext":{"slug":"/blog/scraping-web-from-browser-console/"}},"staticQueryHashes":["3159585216","3589272327"]}