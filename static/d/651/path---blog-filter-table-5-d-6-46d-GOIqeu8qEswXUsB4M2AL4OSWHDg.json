{"data":{"markdownRemark":{"html":"<p>This is a little project, I did to brush up my JavaScript and CSS coding skills. In this project you can interactively filter/search the data of a html table.</p>\n<!--more-->\n<p>The idea came from a w3school tutorial but I coded it from scratch and implemented some features that I think would make the user experience more fluid but that made the code a bit complex for me.</p>\n<p>I thought I would be able to code it within an hour as I saw the basic code but it took me few days to implement the functionality and style that I was looking for.</p>\n<p>So I realized that a project becomes quickly difficult and complex when you try to be creative or solve real world problems. You can read tutorial after tutorial, watch many videos and do lots of coding exercises but it's the projects- where you really learn the material by actually doing things and building stuffs!</p>\n<h2>Problem statement</h2>\n<p>Search text interactively inside of a html table, that is, Filter out unmatched data from a html table that does not match the given input. Using only vanilla HTML/CSS/JS.</p>\n<h2>User stories</h2>\n<p>The features we are going to implement:</p>\n<ol>\n<li>I can filter the data by writing in the text box</li>\n<li>I can choose a column to filter.</li>\n<li>I can choose filtering to be <em>case sensitive</em>.</li>\n<li>The filtering process is <em>interactive</em>, it happens as I type.</li>\n<li>I can clear text input.</li>\n<li>By a clear <em>button</em>.</li>\n<li>By pressing Esc <em>key</em>.</li>\n</ol>\n<h2>HTML</h2>\n<p>The user input section:</p>\n<pre><code class=\"language-html\">&#x3C;div class=\"toolbox\">\n  \n  &#x3C;input type=\"text\" id=\"inpValue\" placeholder=\"Type here to filter the table below by name or country..\" />\n\n  &#x3C;div class=\"control-panel\">\n\n    &#x3C;label>&#x3C;input id=\"rbName\" type=\"radio\" name=\"radios\" checked/>\n    Name&#x3C;/label>\n\n    &#x3C;label>&#x3C;input id=\"rbCountry\" type=\"radio\" name=\"radios\" />\n    Country&#x3C;/label>\n\n    &#x3C;label>&#x3C;input id=\"cbCaseSns\" type=\"checkbox\" />\n    Case sensitive&#x3C;/label>\n\n    &#x3C;button id=\"btnClear\">Clear&#x3C;/button>\n\n    &#x3C;div class=\"info-panel\">\n      &#x3C;p>Tip: use ESC key to quickly clear text box.&#x3C;/p>\n    &#x3C;/div>\n\n  &#x3C;/div>\n&#x3C;/div>\n</code></pre>\n<p>The data table:</p>\n<pre><code class=\"language-html\">&#x3C;table>\n  &#x3C;thead>\n    &#x3C;tr>\n      &#x3C;th>Name&#x3C;/th>\n      &#x3C;th>Country&#x3C;/th>\n    &#x3C;/tr>\n  &#x3C;/thead>\n  &#x3C;tbody>\n    &#x3C;tr>\n      &#x3C;td>Sunway TaihuLight&#x3C;/td>\n      &#x3C;td>China&#x3C;/td>\n    &#x3C;/tr>\n    &#x3C;tr>\n      &#x3C;td>Tianhe-2 (MilkyWay-2)&#x3C;/td>\n      &#x3C;td>China&#x3C;/td>\n    &#x3C;/tr>\n    .\n    .\n    .\n  &#x3C;/tbody>\n&#x3C;/table>\n</code></pre>\n<h2>CSS</h2>\n<pre><code class=\"language-css\">body {\n  font-size: 16px;\n  max-width: 600px;\n  position: relative;\n  margin: 0 auto;\n  font-family: 'Segoe UI';\n}\n\n.wrap {\n  padding: 10px;\n}\n\n.toolbox {\n  text-align: center;\n  padding: 5px;\n  background-color: #f9f9f9;\n  border: 1px solid #ddd;\n  border-radius: 2px;\n  margin-bottom: 20px;\n}\n\n.info-panel p {\n  font-size: 12px;\n}\n\na {\n  text-decoration: none;\n  font-size: 12px;\n}\n\n#inpValue {\n  width: 90%;\n  margin: 10px 2px 2px 10px;\n  padding: 5px;\n  border: 1px solid #eee;\n}\n\n.control-panel {\n  padding: 5px;\n}\n\nlabel {\n  display: inline-block;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\nth {\n  background-color: #f9f9f9;\n  padding: 5px;\n}\n\ntr {\n  border-bottom: 1px solid #ddd;\n}\n\ntr th:first-child {\n  width: 70%;\n}\n\ntd {\n  padding: 5px;\n}\n</code></pre>\n<h2>JavaScript</h2>\n<pre><code class=\"language-js\">// Get the interactive-input  elements\nvar btnClear = document.getElementById(\"btnClear\");\nvar inpValue = document.getElementById(\"inpValue\");\nvar rbName = document.getElementById(\"rbName\");\nvar rbCountry = document.getElementById(\"rbCountry\");\nvar cbCaseSns = document.getElementById(\"cbCaseSns\");\n\n// Table rows\nvar tblRows = document.getElementsByTagName(\"tr\");\n\n// Button-onclick: Clear\nbtnClear.addEventListener(\"click\", function(){\n  inpValue.value = \"\";\n  filterTable();\n})\n\n// Checkbox-onclick: Case sensitive\ncbCaseSns.addEventListener(\"click\",function (){\n  filterTable();\n});\n\n// radio-name-onclick\nrbName.addEventListener(\"click\",function (){\n  filterTable();\n});\n\n// radio-country-onclick\nrbCountry.addEventListener(\"click\",function (){\n  filterTable();\n});\n\n// Inputbox-onkeyup\ninpValue.addEventListener(\"keyup\", function(e){\n\n  if (e.key === \"Escape\"){\n    inpValue.value = \"\";\n  }\n\n  filterTable();\n});\n\n\nfunction filterTable(){\n  \n  // Handle case sensitive\n  var caseSn = cbCaseSns.checked ? \"\" : \"i\";\n  var pattern = new RegExp(inpValue.value, caseSn);\n\n  // Handle column (td number)\n  var tdNum = rbName.checked ? 0 : 1;\n\n  // Iterate over rows and filter\n  for(var i =0,l=tblRows.length;i&#x3C;l;i++){\n    \n    var td = tblRows[i].getElementsByTagName('td')[tdNum];\n    if(td){\n      if(td.innerHTML.search(pattern) > -1 ){\n        tblRows[i].style.display = \"\";\n      }\n      else {\n        tblRows[i].style.display = \"none\";\n      }\n    }\n  }\n}\n</code></pre>\n<h2>Result</h2>\n<p data-height=\"681\" data-theme-id=\"light\" data-slug-hash=\"QMLJyd\" data-default-tab=\"result\" data-user=\"instrumaniak\" data-embed-version=\"2\" data-pen-title=\"Filter table data\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/instrumaniak/pen/QMLJyd/\">Filter table data</a> by Raziur Rahman (<a href=\"https://codepen.io/instrumaniak\">@instrumaniak</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n<h2>Links</h2>\n<ul>\n<li>View this project on <a href=\"https://codepen.io/instrumaniak/full/QMLJyd/\">codepen</a></li>\n<li>The Original <a href=\"https://www.w3schools.com/howto/howto_js_filter_table.asp\">w3school tutorial</a></li>\n</ul>","frontmatter":{"title":"Filter/Search a table"},"fields":{"date":"2017-08-05"}}},"pageContext":{"slug":"/blog/filter-table/"}}